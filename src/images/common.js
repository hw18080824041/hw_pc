function ShowPre(i){var t=this;this.box=jq("#"+i.box),this.btnP=jq("#"+i.Pre),this.btnN=jq("#"+i.Next),this.v=i.v||1,this.c=0;if(this.loop=i.loop||!1,this.loop&&(this.li=this.box.find("li"),this.box.append(this.li.eq(0).clone(!0))),this.li=this.box.find("li"),this.l=this.li.length,this.l<=this.v&&(this.btnP.hide(),this.btnN.hide()),this.deInit=!0,this.w=this.li.outerWidth(!0),this.box.width(this.w*this.l),this.maxL=this.l-this.v,this.s=i.s||1,this.s>1){this.w=this.v*this.w,this.maxL=Math.floor(this.l/this.v),this.box.width(this.w*(this.maxL+1));for(var l=(this.maxL+1)*this.v-this.l,o="",a=0;a<l;a++)o+="<li class='addBox'><div class='photo'></div><div class='text'></div></li>";this.box.append(o)}if(this.numIco=null,i.numIco){this.numIco=jq("#"+i.numIco);var s="";numL=this.loop?this.l-1:this.l;for(var n=0;n<numL;n++)s+="<a href='javascript:void(0);'>"+n+"</a>";this.numIco.html(s),this.numIcoLi=this.numIco.find("a"),this.numIcoLi.bind("click",function(){if(t.c==jq(this).html())return!1;t.c=jq(this).html(),t.move()})}if(this.bigBox=null,this.loadNumBox=null,i.loadNumBox&&(this.loadNumBox=jq("#"+i.loadNumBox)),this.allNumBox=null,i.loadNumBox){if(this.allNumBox=jq("#"+i.allNumBox),i.bBox)var h=this.l<10?"0"+this.l:this.l;else var h=this.maxL<10?"0"+(this.maxL+1):this.maxL+1;this.allNumBox.html(h)}i.bBox&&(this.bigBox=jq("#"+i.bBox),this.li.each(function(i){jq(this).attr("num",i);var t=i+1<10?"0"+(i+1):i+1;jq(this).find(".text").html(t)}),this.loadNum=0,this.li.bind("click",function(){if(t.loadNum==jq(this).attr("num"))return!1;var i=null;t.loadNum>jq(this).attr("num")&&(i="pre"),t.loadNum=jq(this).attr("num"),t.loadImg(i)}),t.loadImg(),i.bNext&&(t.bNext=jq("#"+i.bNext),t.bNext.bind("click",function(){t.loadNum<t.l-1?t.loadNum++:t.loadNum=0,t.loadImg()})),i.bPre&&(t.bPre=jq("#"+i.bPre),t.bPre.bind("click",function(){t.loadNum>0?t.loadNum--:t.loadNum=t.l-1,t.loadImg("pre")}))),this.loop?(this.btnP.bind("click",function(){t.c<=0&&(t.c=t.l-1,t.box.css({left:-t.c*t.w})),t.c--,t.move(1)}),this.btnN.bind("click",function(){t.c>=t.l-1&&(t.box.css({left:0}),t.c=0),t.c++,t.move(1)})):(this.btnP.bind("click",function(){t.c>0?t.c--:t.c=t.maxL,t.move(1)}),this.btnN.bind("click",function(){t.c<t.maxL?t.c++:t.c=0,t.move(1)})),t.timer=null,i.auto&&(t.box.bind("mouseover",function(){clearInterval(t.timer)}),t.box.bind("mouseleave",function(){t.autoPlay()}),t.autoPlay()),this.move()}ShowPre.prototype={move:function(i){var t=this,l=this.c*this.w;if(i&&t.timer&&clearInterval(t.timer),t.numIco){t.numIcoLi.removeClass("on");var o=t.c;t.loop&&t.c==this.l-1&&(o=0),t.numIcoLi.eq(o).addClass("on")}if(this.box.stop(),this.box.animate({left:-l},function(){i&&t.auto&&t.autoPlay(),t.loop&&t.c==t.maxL&&(t.c=0,t.box.css({left:0}))}),t.bigBox)return!1;if(t.loadNumBox){var a=parseInt(t.c)+1;a=a<10?"0"+a:a,t.loadNumBox.html(a)}},loadImg:function(i){var t=this,l=this.li.eq(t.loadNum).attr("bsrc"),o=null,a=null,s=null;if(t.li.eq(t.loadNum).attr("data-h")){var o=jq("#bigT h3");jq("#bigT").hide(),o.html("")}if(t.li.eq(t.loadNum).attr("data-m")){var a=jq("#bigT h4");jq("#bigT").hide(),a.html("")}if(t.li.eq(t.loadNum).attr("data-text")){var s=jq("#bigText");s.html("").hide()}var n=new Image;if(jq(n).hide(),t.deInit){var h=0;t.deInit=!1,t.bigBox.html("<div class='loading'></div><div class='loading'></div>")}else if("pre"!=i){var h=-1230;t.bigBox.append("<div class='loading'></div>")}else{var h=1230;t.bigBox.find(".loading").before("<div class='loading'></div>"),t.bigBox.css({"margin-left":-1230}),h=0}if(t.bigBox.animate({"margin-left":h},function(){jq(n).bind("load",function(){if("pre"!=i)var l=1,h=0;else var l=0,h=1;t.bigBox.find(".loading").eq(l).html(n),t.bigBox.find(".loading").eq(h).remove(),t.bigBox.css({"margin-left":0}),jq(this).fadeIn(200,function(){o&&(jq("#bigT").fadeIn(),o.html(t.li.eq(t.loadNum).attr("data-h"))),a&&(jq("#bigT").fadeIn(),a.html(t.li.eq(t.loadNum).attr("data-m"))),s&&s.html(t.li.eq(t.loadNum).attr("data-text")).fadeIn()})}),n.src=l}),t.li.removeClass("on"),t.li.eq(t.loadNum).addClass("on"),t.loadNumBox){var e=parseInt(t.loadNum)+1;e=e<10?"0"+e:e,t.loadNumBox.html(e)}},autoPlay:function(){var i=this;i.timer=setInterval(function(){i.c<i.maxL?i.c++:i.c=0,i.move()},4e3)}};